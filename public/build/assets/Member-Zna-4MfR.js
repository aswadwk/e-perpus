import{r as n,W as b,j as e,Y as g,a as x}from"./app-mwD8rKH0.js";import{D as _}from"./DefaultLayout-y9en6JwO.js";import{P as w,a as v,b as C}from"./PaginateDemo-lzxoqZ7H.js";import{B as i}from"./button-DM4OJObE.js";import{C as y,a as N,b as T,c as M,d as k}from"./card-CsNZX89Y.js";import{I as R}from"./input-CvVn_6Ux.js";import{l as S,T as A,a as D,b as h,c as r,d as E,e as d,S as H}from"./lodash-MX0gHBgf.js";import{r as P,t as j,d as I,a as B}from"./utils-BmcsHCy2.js";import{T as U}from"./trash-XrOtvgL_.js";import"./index-COBK1RFK.js";import"./index-BwAztNm9.js";import"./index-D_-WwNEz.js";import"./sheet-DRZm5MKN.js";const Z=({members:t})=>{var c;const[a,l]=n.useState({per_page:10,start_date:"",end_date:"",search:"",subscription:"",with_trashed:!1}),{delete:m}=b({}),o=n.useRef(!0),f=n.useRef(S.debounce(s=>{P({...s,start_date:j(s.start_date,""),end_date:j(s.end_date,"")})},500)).current;n.useEffect(()=>{if(o.current){o.current=!1;return}f(a)},[a]);function p(){return a.search||a.start_date||a.end_date||a.subscription||a.with_trashed}function u(s){confirm("Are you sure you want to delete this member?")&&m(route("web.members.destroy",s))}return e.jsxs(_,{children:[e.jsx(g,{title:"Members"}),e.jsxs(y,{children:[e.jsx(N,{children:e.jsx(T,{children:"Members"})}),e.jsxs(M,{children:[e.jsxs("div",{className:"flex justify-between",children:[p()&&e.jsx(i,{variant:"destructive",onClick:()=>{l({...a,search:"",start_date:"",end_date:"",subscription:"",per_page:"",with_trashed:!1})},children:"Clear Filter"}),e.jsx(R,{placeholder:"Search ",onChange:s=>{l({...a,search:s.target.value})},className:"w-[150px] lg:w-[250px]",value:a.search}),e.jsx(x,{href:"/admin/members/create",children:e.jsxs(i,{children:[e.jsx(w,{}),"Add Member"]})})]}),e.jsx("div",{className:"mt-4 overflow-x-auto border rounded-lg",children:e.jsxs(A,{children:[e.jsx(D,{children:e.jsxs(h,{children:[e.jsx(r,{children:"Name"}),e.jsx(r,{children:"Code"}),e.jsx(r,{children:"NIS"}),e.jsx(r,{children:"Address"}),e.jsx(r,{children:"Register At"}),e.jsx(r,{children:"Action"})]})}),e.jsx(E,{children:(c=t==null?void 0:t.data)==null?void 0:c.map(s=>e.jsxs(h,{children:[e.jsx(d,{children:e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{children:[(s==null?void 0:s.name)??"Unknown",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:(s==null?void 0:s.email)??"Unknown"})]})})}),e.jsx(d,{children:s.code}),e.jsx(d,{children:s.nis}),e.jsx(d,{children:s.address}),e.jsxs(d,{className:"text-nowrap",children:[I(s.created_at),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:B(s.created_at)})]}),e.jsx(d,{children:e.jsxs("div",{className:"flex gap-2 ",children:[e.jsx(i,{variant:"ghost",children:e.jsx(x,{href:route("web.members.edit",s.id),children:e.jsx(H,{height:18})})}),e.jsx(i,{variant:"ghost",onClick:()=>{u(s.id)},children:e.jsx(U,{height:18})})]})})]},s.id))})]})})]}),e.jsx(k,{children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx(v,{from:t.from,to:t.to,total:t.total}),e.jsx("div",{children:e.jsx(C,{links:t.links})})]})})]})]})};export{Z as default};
