import{r as l,W as u,y as b,j as e,Y as w,a as x}from"./app-F26IiqHC.js";import{D as v}from"./DefaultLayout-j8MVkCbC.js";import{P as y,a as C}from"./PaginateDemo-kUy-j6ea.js";import{B as d}from"./button-tZXLudKu.js";import{C as N,a as T,b as _,c as k,d as S}from"./card-DosAqAye.js";import{I as A}from"./input-dYGD7Fwo.js";import{T as P,a as D,b as j,c as t,d as E,e as n}from"./table-ChLu0HbR.js";import{l as F,r as H,d as R,a as I}from"./lodash-WQ8CjN4e.js";import{P as M,T as B}from"./trash-BBmq8do4.js";import{S as U}from"./square-pen-BiGLXiak.js";import"./react-icons.esm-CwI9vBYE.js";import"./separator-DdjQagW8.js";import"./index-lS7YWa7-.js";const $=({members:s})=>{var h;const[r,o]=l.useState({per_page:10,search:"",with_trashed:!1}),{delete:m}=u({}),c=l.useRef(!0),f=l.useRef(F.debounce(a=>{let i=H({...a});b.get(route("web.members.index"),{...i},{preserveState:!0,preserveScroll:"errors"})},500)).current;l.useEffect(()=>{if(c.current){c.current=!1;return}f(r)},[r]);function p(){return r.search||r.with_trashed}function g(a){confirm("Are you sure you want to delete this member?")&&m(route("web.members.destroy",a))}return e.jsxs(v,{children:[e.jsx(w,{title:"Anggota"}),e.jsxs(N,{children:[e.jsx(T,{children:e.jsx(_,{children:"Anggota"})}),e.jsxs(k,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{placeholder:"Search ",onChange:a=>{o({...r,search:a.target.value})},className:"w-[150px] lg:w-[250px]",value:r.search}),p()&&e.jsx(d,{variant:"outline",onClick:()=>{o({...r,search:"",start_date:"",end_date:"",subscription:"",per_page:"",with_trashed:!1})},children:"Clear Filter"})]}),e.jsx(x,{href:"/admin/members/create",children:e.jsxs(d,{children:[e.jsx(M,{}),"Tambah Anggota"]})})]}),e.jsx("div",{className:"mt-4 overflow-x-auto border rounded-lg",children:e.jsxs(P,{children:[e.jsx(D,{children:e.jsxs(j,{children:[e.jsx(t,{children:"Nama"}),e.jsx(t,{children:"Kode"}),e.jsx(t,{children:"NIM"}),e.jsx(t,{children:"Kelas"}),e.jsx(t,{children:"Alamat"}),e.jsx(t,{children:"Ditambahkan pada"}),e.jsx(t,{children:"Aksi"})]})}),e.jsx(E,{children:(h=s==null?void 0:s.data)==null?void 0:h.map(a=>{var i;return e.jsxs(j,{children:[e.jsx(n,{children:e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{children:[(a==null?void 0:a.name)??"Unknown",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:(a==null?void 0:a.email)??"Unknown"})]})})}),e.jsx(n,{children:a.code}),e.jsx(n,{children:a.nis}),e.jsx(n,{children:(i=a==null?void 0:a.grade)==null?void 0:i.name}),e.jsx(n,{children:a.address}),e.jsxs(n,{className:"text-nowrap",children:[R(a.created_at),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:I(a.created_at)})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex gap-2 ",children:[e.jsx(d,{variant:"ghost",children:e.jsx(x,{href:route("web.members.edit",a.id),children:e.jsx(U,{height:18})})}),e.jsx(d,{variant:"ghost",onClick:()=>{g(a.id)},children:e.jsx(B,{height:18})})]})})]},a.id)})})]})})]}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx(y,{from:s.from,to:s.to,total:s.total}),e.jsx("div",{children:e.jsx(C,{links:s.links})})]})})]})]})};export{$ as default};
