import{r as t,W as w,y as v,j as e,Y as g,a as x}from"./app-DtGj8Yhc.js";import{D as y}from"./DefaultLayout-DuA6OQrr.js";import{P as C,a as b}from"./PaginateDemo-ByxG-qYF.js";import{B as n}from"./button-BuHZq0cU.js";import{C as T,a as N,b as P,c as S,d as _}from"./card-CIBssZkw.js";import{I as k}from"./input-NVec-H8d.js";import{l as E,T as F,a as H,b as h,c as i,d as R,e as d}from"./lodash-BjwZf49_.js";import{r as D,d as A,a as B}from"./utils-Cfa0fJ5j.js";import{P as I,T as K}from"./trash-DbxN-RLz.js";import{S as M}from"./square-pen-CiRSYZml.js";import"./react-icons.esm-DQMDh0yB.js";import"./separator-BQtRGWa7.js";import"./index-JOt0pbYD.js";const $=({categories:s})=>{var c;const[a,l]=t.useState({per_page:10,search:"",with_trashed:!1}),{delete:m}=w({}),o=t.useRef(!0),j=t.useRef(E.debounce(r=>{let p=D({...r});v.get(route("web.categories.index"),{...p},{preserveState:!0,preserveScroll:"errors"})},500)).current;t.useEffect(()=>{if(o.current){o.current=!1;return}j(a)},[a]);function f(){return a.search||a.with_trashed}function u(r){confirm("Are you sure you want to delete this publisher?")&&m(route("web.categories.destroy",r))}return e.jsxs(y,{children:[e.jsx(g,{title:"Publisher"}),e.jsxs(T,{children:[e.jsx(N,{children:e.jsx(P,{children:"Kategori"})}),e.jsxs(S,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{children:e.jsx(k,{placeholder:"Search ",onChange:r=>{l({...a,search:r.target.value})},className:"w-[150px] lg:w-[250px]",value:a.search})}),f()&&e.jsx(n,{variant:"outline",onClick:()=>{l({...a,search:"",per_page:"",with_trashed:!1})},children:"Clear Filter"})]}),e.jsx(x,{href:"/admin/categories/create",children:e.jsxs(n,{children:[e.jsx(I,{}),"Tambah Kategori"]})})]}),e.jsx("div",{className:"mt-4 overflow-x-auto border rounded-lg",children:e.jsxs(F,{children:[e.jsx(H,{children:e.jsxs(h,{children:[e.jsx(i,{children:"Nama"}),e.jsx(i,{children:"Kode"}),e.jsx(i,{children:"Created At"}),e.jsx(i,{className:"text-center",children:"Action"})]})}),e.jsx(R,{children:(c=s==null?void 0:s.data)==null?void 0:c.map(r=>e.jsxs(h,{children:[e.jsx(d,{children:(r==null?void 0:r.name)??"Unknown"}),e.jsx(d,{children:r.code}),e.jsxs(d,{className:"text-nowrap",children:[A(r.created_at),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:B(r.created_at)})]}),e.jsx(d,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(n,{variant:"ghost",children:e.jsx(x,{href:route("web.categories.edit",r.id),children:e.jsx(M,{height:18})})}),e.jsx(n,{variant:"ghost",onClick:()=>{u(r.id)},children:e.jsx(K,{height:18})})]})})]},r.id))})]})})]}),e.jsx(_,{children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx(C,{from:s.from,to:s.to,total:s.total}),e.jsx("div",{children:e.jsx(b,{links:s.links})})]})})]})]})};export{$ as default};
