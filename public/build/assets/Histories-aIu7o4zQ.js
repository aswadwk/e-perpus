import{r as s,W as j,j as e,Y as u}from"./app-mwD8rKH0.js";import{B as o}from"./button-DM4OJObE.js";import"./calendar-BrTrmFed.js";import{P as m,a as p,b as f}from"./popover-Cc93Q8JV.js";import{r as b,t as l,d as T,a as _}from"./utils-BmcsHCy2.js";import"./checkbox-qXoUKGSx.js";import"./input-CvVn_6Ux.js";import"./label-D-VhJ438.js";import{B}from"./BookLayout-KzEgP5Va.js";import{C,a as y,b as k,e as E,c as H}from"./card-CsNZX89Y.js";import"./sheet-DRZm5MKN.js";import{l as S,T as w,a as P,b as c,c as t,d as R,e as a,S as g}from"./lodash-MX0gHBgf.js";import"./index-COBK1RFK.js";import{E as D}from"./eye-3OV7WLb8.js";import{T as v}from"./trash-XrOtvgL_.js";import"./index-BwAztNm9.js";import"./dialog-D7MkpADV.js";const $=({histories:x})=>{var d;const[i,z]=s.useState({per_page:10,start_date:"",end_date:"",search:"",subscription:"",with_trashed:!1});s.useState({borrowBook:!1}),s.useState({}),j({});const n=s.useRef(!0),h=s.useRef(S.debounce(r=>{b({...r,start_date:l(r.start_date,""),end_date:l(r.end_date,"")})},500)).current;return s.useEffect(()=>{if(n.current){n.current=!1;return}h(i)},[i]),e.jsxs(B,{children:[e.jsx(u,{title:"Publisher"}),e.jsxs(C,{className:"w-full mx-auto",children:[e.jsxs(y,{children:[e.jsx(k,{children:"Book Borrowing History"}),e.jsx(E,{children:"A list of recent book loans and their current status."})]}),e.jsx(H,{children:e.jsxs(w,{children:[e.jsx(P,{children:e.jsxs(c,{children:[e.jsx(t,{children:"Book Title"}),e.jsx(t,{children:"Author"}),e.jsx(t,{children:"Borrow Date"}),e.jsx(t,{children:"Return Date"}),e.jsx(t,{children:"Status"}),e.jsx(t,{children:"Action"})]})}),e.jsx(R,{children:(d=x.data)==null?void 0:d.map(r=>e.jsxs(c,{children:[e.jsx(a,{className:"font-medium",children:r.book.title}),e.jsx(a,{children:r.book.author}),e.jsxs(a,{children:[T(r.created_at),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-gray-500",children:_(r.created_at)})]}),e.jsx(a,{children:r.return_date}),e.jsx(a,{children:r.status}),e.jsx(a,{children:e.jsxs(m,{children:[e.jsx(p,{children:e.jsx(o,{children:e.jsx(g,{size:16})})}),e.jsxs(f,{children:[e.jsx(o,{children:e.jsx(D,{size:16})}),e.jsx(o,{children:e.jsx(v,{size:16})})]})]})})]},r.id))})]})})]})]})};export{$ as default};
