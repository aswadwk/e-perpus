import{r as n,W as g,j as e,Y as _,a as h}from"./app-mwD8rKH0.js";import{I as w}from"./InputCheckBox-Wmx2TLOv.js";import{D as C}from"./DefaultLayout-y9en6JwO.js";import{P as b,a as T,b as N}from"./PaginateDemo-lzxoqZ7H.js";import{B as l}from"./button-DM4OJObE.js";import{C as y,a as P,b as k,c as A,d as V}from"./card-CsNZX89Y.js";import{I as D}from"./input-CvVn_6Ux.js";import{l as E,T as H,a as I,b as m,c as t,d as R,e as i,S}from"./lodash-MX0gHBgf.js";import{T as B,a as F,b as c}from"./tabs-B611ChrD.js";import{r as M,t as j,d as Y,a as L}from"./utils-BmcsHCy2.js";import{T as U}from"./trash-XrOtvgL_.js";import"./checkbox-qXoUKGSx.js";import"./index-COBK1RFK.js";import"./index-BwAztNm9.js";import"./sheet-DRZm5MKN.js";import"./index-D_-WwNEz.js";const ie=({publishers:r})=>{var x;const[a,d]=n.useState({per_page:10,start_date:"",end_date:"",search:"",subscription:"",with_trashed:!1}),{delete:f}=g({}),o=n.useRef(!0),u=n.useRef(E.debounce(s=>{M({...s,start_date:j(s.start_date,""),end_date:j(s.end_date,"")})},500)).current;n.useEffect(()=>{if(o.current){o.current=!1;return}u(a)},[a]);function p(){return a.search||a.start_date||a.end_date||a.subscription||a.with_trashed}function v(s){confirm("Are you sure you want to delete this publisher?")&&f(route("web.publishers.destroy",s))}return e.jsxs(C,{children:[e.jsx(_,{title:"Publisher"}),e.jsxs(y,{children:[e.jsx(P,{children:e.jsx(k,{children:"Publishers"})}),e.jsxs(A,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{className:"hidden sm:flex",defaultValue:"all",value:a.subscription,onValueChange:s=>{d({...a,subscription:s})},children:e.jsxs(F,{children:[e.jsx(c,{value:"",children:"All"}),e.jsx(c,{value:"free",children:"Free"}),e.jsx(c,{value:"premium",children:"Premium"})]})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(w,{id:"with_trashed",onChange:s=>{console.log(s),d({...a,with_trashed:s})},error:"",label:"With Trashed",value:a.with_trashed,placeholder:"Active"})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[p()&&e.jsx(l,{variant:"destructive",onClick:()=>{d({...a,search:"",start_date:"",end_date:"",subscription:"",per_page:"",with_trashed:!1})},children:"Clear Filter"}),e.jsx(D,{placeholder:"Search ",onChange:s=>{d({...a,search:s.target.value})},className:"w-[150px] lg:w-[250px]",value:a.search}),e.jsx(h,{href:"/publishers/create",children:e.jsxs(l,{children:[e.jsx(b,{}),"Add Publisher"]})})]})]}),e.jsx("div",{className:"mt-4 overflow-x-auto border rounded-lg",children:e.jsxs(H,{children:[e.jsx(I,{children:e.jsxs(m,{children:[e.jsx(t,{children:"Name"}),e.jsx(t,{children:"Code"}),e.jsx(t,{children:"Verified"}),e.jsx(t,{children:"Created At"}),e.jsx(t,{className:"text-center",children:"Action"})]})}),e.jsx(R,{children:(x=r==null?void 0:r.data)==null?void 0:x.map(s=>e.jsxs(m,{children:[e.jsx(i,{children:e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{children:(s==null?void 0:s.name)??"Unknown"})})}),e.jsx(i,{children:s.code}),e.jsx(i,{children:s.is_verified?"Verified":"Not Verified"}),e.jsxs(i,{className:"text-nowrap",children:[Y(s.created_at),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:L(s.created_at)})]}),e.jsx(i,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(l,{variant:"ghost",children:e.jsx(h,{href:route("web.publishers.edit",s.id),children:e.jsx(S,{height:18})})}),e.jsx(l,{variant:"ghost",onClick:()=>{v(s.id)},children:e.jsx(U,{height:18})})]})})]},s.id))})]})})]}),e.jsx(V,{children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx(T,{from:r.from,to:r.to,total:r.total}),e.jsx("div",{children:e.jsx(N,{links:r.links})})]})})]})]})};export{ie as default};
