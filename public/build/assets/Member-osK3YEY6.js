import{r as d,W as b,j as e,Y as _,a as x}from"./app-yMZrsqwC.js";import{D as v}from"./DefaultLayout-C2_q1QE6.js";import{P as w,T as C,a as N,b as y}from"./PaginateDemo-AkhdugHX.js";import{B as i}from"./button-DoUDRYi7.js";import{C as T,a as k,b as P,c as D,d as M}from"./card-EMH6NASV.js";import{I as E}from"./input-Bql4HjTJ.js";import{l as H,T as R,a as S,b as j,c as r,d as I,e as n}from"./lodash-B5H2LnEO.js";import{r as A,t as m,d as B,a as U}from"./utils-D0Y_8jrY.js";import{S as Y}from"./square-pen-DZFpRoEh.js";import"./index-NjrTV968.js";import"./index-x4fCwDdj.js";import"./index-hnFnuZ5j.js";import"./ThemeProvider-C4ksScWi.js";const $=({members:t})=>{var c;const[s,l]=d.useState({per_page:10,start_date:"",end_date:"",search:"",subscription:"",with_trashed:!1}),{delete:f}=b({}),o=d.useRef(!0),p=d.useRef(H.debounce(a=>{A({...a,start_date:m(a.start_date,""),end_date:m(a.end_date,"")})},500)).current;d.useEffect(()=>{if(o.current){o.current=!1;return}p(s)},[s]);function u(){return s.search||s.start_date||s.end_date||s.subscription||s.with_trashed}function g(a){confirm("Are you sure you want to delete this member?")&&f(route("web.members.destroy",a))}return e.jsxs(v,{children:[e.jsx(_,{title:"Members"}),e.jsxs(T,{children:[e.jsx(k,{children:e.jsx(P,{children:"Pengguna"})}),e.jsxs(D,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{placeholder:"Search ",onChange:a=>{l({...s,search:a.target.value})},className:"w-[150px] lg:w-[250px]",value:s.search}),u()&&e.jsx(i,{variant:"destructive",onClick:()=>{l({...s,search:"",start_date:"",end_date:"",subscription:"",per_page:"",with_trashed:!1})},children:"Clear Filter"})]}),e.jsx(x,{href:"/admin/members/create",children:e.jsxs(i,{children:[e.jsx(w,{}),"Tambah Pengguna"]})})]}),e.jsx("div",{className:"mt-4 overflow-x-auto border rounded-lg",children:e.jsxs(R,{children:[e.jsx(S,{children:e.jsxs(j,{children:[e.jsx(r,{children:"Nama"}),e.jsx(r,{children:"Kode"}),e.jsx(r,{children:"NIM"}),e.jsx(r,{children:"Kelas"}),e.jsx(r,{children:"Alamat"}),e.jsx(r,{children:"Ditambahkan pada"}),e.jsx(r,{children:"Aksi"})]})}),e.jsx(I,{children:(c=t==null?void 0:t.data)==null?void 0:c.map(a=>{var h;return e.jsxs(j,{children:[e.jsx(n,{children:e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{children:[(a==null?void 0:a.name)??"Unknown",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:(a==null?void 0:a.email)??"Unknown"})]})})}),e.jsx(n,{children:a.code}),e.jsx(n,{children:a.nis}),e.jsx(n,{children:(h=a==null?void 0:a.grade)==null?void 0:h.name}),e.jsx(n,{children:a.address}),e.jsxs(n,{className:"text-nowrap",children:[B(a.created_at),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:U(a.created_at)})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex gap-2 ",children:[e.jsx(i,{variant:"ghost",children:e.jsx(x,{href:route("web.members.edit",a.id),children:e.jsx(Y,{height:18})})}),e.jsx(i,{variant:"ghost",onClick:()=>{g(a.id)},children:e.jsx(C,{height:18})})]})})]},a.id)})})]})})]}),e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx(N,{from:t.from,to:t.to,total:t.total}),e.jsx("div",{children:e.jsx(y,{links:t.links})})]})})]})]})};export{$ as default};
